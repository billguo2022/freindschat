import{f as x}from"./friend-146d61d7.js";import{_ as H,r as o,i as n,j as J,o as l,q as r,w as e,k as a,a as i,l as K,c as M,y as O,F as P,x as _,A as Q,t as W,e as p,n as X,C as Y,G as Z}from"./index-1aea0b7d.js";const ee=["src"],ne={style:{height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"}},te={class:"text"},oe={class:"text"},ae={__name:"index",setup(se){const u=o(""),w=o([]),F=o(!1),C=o(!1),m=o(!1),b=o(!0),h=o([]),d=o(!1),y=o(!1),V=o(!1),g=o(!1),N=()=>{if(u.value===""){Q("请输入");return}x.SearchFriend({kw:u.value}).then(c=>{c.code===200&&(h.value=[c.data],b.value=!1,g.value=!0,d.value=!1,y.value=!0,V.value=!1)})},B=()=>{X.RecomUser().then(c=>{})},j=()=>{setTimeout(()=>{m.value&&(w.value=[],m.value=!1),B(),F.value=!0,C.value=!0},1e3)},A=c=>{x.AddFriend({id:c}).then(s=>{s.code===200&&(Y(s.msg),Z.push({name:"Friend"}))})};return(c,s)=>{const T=n("van-icon"),k=n("el-col"),D=n("van-search"),L=n("el-row"),S=n("el-header"),f=n("van-col"),v=n("van-tag"),U=n("van-button"),$=n("van-row"),q=n("van-cell"),z=n("van-list"),E=n("el-main"),G=n("el-container"),I=J("autofocus");return l(),r(G,null,{default:e(()=>[a(S,null,{default:e(()=>[i("div",null,[a(L,null,{default:e(()=>[a(k,{span:2},{default:e(()=>[i("div",{class:"left-back",onClick:s[0]||(s[0]=t=>c.$router.back())},[a(T,{name:"arrow-left",size:"20"})])]),_:1}),a(k,{span:22},{default:e(()=>[K((l(),r(D,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),"show-action":"",placeholder:"Number, username, cell number"},{action:e(()=>[i("div",{style:{color:"#FFFFFF"},onClick:N},"search")]),_:1},8,["modelValue"])),[[I]])]),_:1})]),_:1})])]),_:1}),a(E,null,{default:e(()=>[g.value?(l(),r(z,{key:0,loading:d.value,"onUpdate:loading":s[2]||(s[2]=t=>d.value=t),finished:y.value,"finished-text":"No more...",onLoad:j},{default:e(()=>[(l(!0),M(P,null,O(h.value,(t,R)=>(l(),r(q,{key:R,onClick:le=>A(t.id)},{default:e(()=>[a($,{gutter:"10"},{default:e(()=>[a(f,{span:"6",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[i("img",{src:t.avatar,alt:""},null,8,ee)]),_:2},1024),a(f,{span:"12"},{default:e(()=>[i("div",ne,[i("span",te,W(t.username),1),i("span",oe,[t.online===1?(l(),r(v,{key:0,type:"success"},{default:e(()=>[p("online")]),_:1})):_("",!0),t.online===0?(l(),r(v,{key:1,type:"danger"},{default:e(()=>[p("offline")]),_:1})):_("",!0),t.online===2?(l(),r(v,{key:2,type:"warning"},{default:e(()=>[p("busy")]),_:1})):_("",!0)])])]),_:2},1024),a(f,{span:"6",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[a(U,{icon:"plus",type:"primary",round:""})]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["loading","finished"])):_("",!0)]),_:1})]),_:1})}}},ie=H(ae,[["__scopeId","data-v-c0192f9e"]]);export{ie as default};
