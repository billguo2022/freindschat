import{f as g}from"./friend-146d61d7.js";import{_ as T,r as c,i as n,o as s,q as l,w as e,k as a,B as G,c as S,y as $,F as q,G as x,a as _,t as D,e as i,x as v,C as E}from"./index-1aea0b7d.js";const I=["src"],U={style:{height:"100%",display:"flex","flex-direction":"column","justify-content":"center","align-items":"flex-start"}},z={class:"text"},H={class:"text"},J={__name:"index",setup(K){const d=c([]),u=c(!1),m=c(!1),y=c(!1),h=()=>{g.GetAgreeFriend().then(r=>{d.value=r.data.not_friends})},k=()=>{setTimeout(()=>{y.value&&(d.value=[],y.value=!1),h(),u.value=!0,m.value=!0},1e3)},w=r=>{g.AgreeFriend({id:r}).then(o=>{o.code===200&&(E(o.msg),x.push({name:"Friend"}))})};return(r,o)=>{const C=n("van-nav-bar"),b=n("el-header"),f=n("van-col"),p=n("van-tag"),N=n("van-button"),B=n("van-row"),F=n("van-cell"),L=n("van-list"),V=n("el-main"),j=n("el-container");return s(),l(j,null,{default:e(()=>[a(b,null,{default:e(()=>[a(C,{title:"New friend","left-arrow":"",onClickLeft:o[0]||(o[0]=t=>G(x).back())})]),_:1}),a(V,null,{default:e(()=>[a(L,{loading:u.value,"onUpdate:loading":o[1]||(o[1]=t=>u.value=t),finished:m.value,"finished-text":"No more...",onLoad:k},{default:e(()=>[(s(!0),S(q,null,$(d.value,(t,A)=>(s(),l(F,{key:A,onClick:M=>w(t.id)},{default:e(()=>[a(B,{gutter:"10"},{default:e(()=>[a(f,{span:"6",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[_("img",{src:t.user.avatar,alt:""},null,8,I)]),_:2},1024),a(f,{span:"12"},{default:e(()=>[_("div",U,[_("span",z,D(t.user.username),1),_("span",H,[t.user.online===1?(s(),l(p,{key:0,type:"success"},{default:e(()=>[i("online")]),_:1})):v("",!0),t.user.online===0?(s(),l(p,{key:1,type:"danger"},{default:e(()=>[i("offline")]),_:1})):v("",!0),t.user.online===2?(s(),l(p,{key:2,type:"warning"},{default:e(()=>[i("busy")]),_:1})):v("",!0)])])]),_:2},1024),a(f,{span:"6",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:e(()=>[a(N,{type:"primary",round:""},{default:e(()=>[i("agree")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["loading","finished"])]),_:1})]),_:1})}}},Q=T(J,[["__scopeId","data-v-e41c0f19"]]);export{Q as default};
