System.register(["./index-legacy-106e4135.js"],(function(e,a){"use strict";var t,n,r,o,l,u,i,d,c,f,v,s,p,m,g,h,_,b,y;return{setters:[function(e){t=e._,n=e.f,r=e.r,o=e.i,l=e.j,u=e.o,i=e.q,d=e.w,c=e.k,f=e.a,v=e.t,s=e.B,p=e.e,m=e.l,g=e.A,h=e.z,_=e.C,b=e.n,y=e.G}],execute:function(){var a=document.createElement("style");a.textContent="[data-v-15045ee4] .van-cell-group{background:transparent}[data-v-15045ee4] .van-cell__title{color:#fff;opacity:.5}[data-v-15045ee4] .van-nav-bar{background:transparent}[data-v-15045ee4] .van-nav-bar__title{color:#fff;letter-spacing:.2vh}[data-v-15045ee4] .van-hairline--bottom:after{opacity:.5}.el-header[data-v-15045ee4]{padding:0}[data-v-15045ee4] .van-icon{color:#fff;opacity:.5}[data-v-15045ee4] .van-cell{background-color:transparent}[data-v-15045ee4] .van-cell:after{left:0;right:0;opacity:.1}.avatar-content[data-v-15045ee4]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px}.avatar-content .text[data-v-15045ee4]{font-size:large;color:#fff;letter-spacing:.2vw}.text[data-v-15045ee4]{font-size:large;color:#fff;letter-spacing:.2vw;margin:10px 0}img[data-v-15045ee4]{height:10vh;width:10vh;border-radius:50%}.el-main[data-v-15045ee4]{padding:0!important}[data-v-15045ee4] .van-field__control,[data-v-15045ee4] .van-radio__label{color:#fff}\n",document.head.appendChild(a);var x={class:"text"},k={class:"text"},V={style:{margin:"16px"}},w={style:{margin:"16px"}};e("default",t({__name:"index",setup:function(e){var a=n(),t=r({online:parseInt(a.user().value.online),phone:a.user().value.phone}),z=r([{url:a.user().value.avatar}]),j=function(e){console.log("submit",e)},U=function(e){console.log("failed",e)},C=function(e){var a="image/jpeg"===e.type?512e3:1024e3;return e.size>=a},A=function(e){return!!/(jpg|jpeg|png|JPG|PNG)/i.test(e.type)||(g("Please upload images in the correct format"),!1)},G=function(e){e.status="uploading",e.message="上传中...";var t=new FormData;t.append("file",e.file),h({url:"http://localhost:5000/file/avatar",method:"POST",data:t,headers:{"content-type":"multipart/form-data",Authorization:"bearer "+a.token().value}}).then((function(t){200===t.data.code&&(e.status="done",_(t.data.msg),z[0].url=t.data.data,a.user().value.avatar=t.data.data)}))},L=function(){b.UpdateUser({online:t.value.online,phone:t.value.phone}).then((function(e){200===e.code&&(_(e.msg),a.user().value=e.data.user)}))};return function(e,n){var r=o("van-nav-bar"),g=o("el-header"),h=o("van-col"),_=o("van-row"),b=o("van-uploader"),O=o("van-field"),P=o("van-radio"),S=o("van-radio-group"),I=o("van-cell-group"),N=o("van-button"),D=o("van-form"),F=o("el-main"),q=o("el-container"),B=l("autofocus");return u(),i(q,null,{default:d((function(){return[c(g,null,{default:d((function(){return[c(r,{title:"My"})]})),_:1}),c(F,null,{default:d((function(){return[c(_,{style:{margin:"50px 0"}},{default:d((function(){return[c(h,{span:"12",style:{"text-align":"center"}},{default:d((function(){return[f("span",x,"Username："+v(s(a).user().value.username),1)]})),_:1}),c(h,{span:"12",style:{"text-align":"center"}},{default:d((function(){return[f("span",k,"Number："+v(s(a).user().value.number),1)]})),_:1})]})),_:1}),c(D,{onSubmit:j,onFailed:U},{default:d((function(){return[c(I,{inset:""},{default:d((function(){return[c(O,{name:"uploader",label:"Avatar"},{input:d((function(){return[c(b,{modelValue:z.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return z.value=e}),"max-size":C,"after-read":G,"before-read":A,reupload:"","max-count":"1"},null,8,["modelValue"])]})),_:1}),c(O,{name:"switch",label:"Online state"},{input:d((function(){return[c(S,{modelValue:t.value.online,"onUpdate:modelValue":n[1]||(n[1]=function(e){return t.value.online=e}),direction:"horizontal"},{default:d((function(){return[c(P,{name:0,"checked-color":"#1989fa"},{default:d((function(){return[p("offline")]})),_:1}),c(P,{name:1,"checked-color":"#1989fa"},{default:d((function(){return[p("online")]})),_:1}),c(P,{name:2,"checked-color":"#1989fa"},{default:d((function(){return[p("busy")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),m(c(O,{modelValue:t.value.phone,"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.value.phone=e}),placeholder:"phone number"},null,8,["modelValue"]),[[B]])]})),_:1}),f("div",V,[c(N,{round:"",block:"",type:"primary","native-type":"submit",onClick:L},{default:d((function(){return[p(" Submit ")]})),_:1})])]})),_:1}),f("div",w,[c(N,{round:"",block:"",type:"danger","native-type":"submit",onClick:n[3]||(n[3]=function(e){s(a).LogOut(),s(y).push({name:"Login"})}),"loading-text":"LOADING ..."},{default:d((function(){return[p(" Log out ")]})),_:1})])]})),_:1})]})),_:1})}}},[["__scopeId","data-v-15045ee4"]]))}}}));
