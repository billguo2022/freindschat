System.register(["./index-legacy-106e4135.js"],(function(e,t){"use strict";var r,o,n,a,i,s,l,u,d,c,m,f,p,g,b,v,h,y,w,x;return{setters:[function(e){r=e._,o=e.M,n=e.u,a=e.r,i=e.f,s=e.g,l=e.h,u=e.i,d=e.j,c=e.o,m=e.c,f=e.a,p=e.e,g=e.k,b=e.w,v=e.l,h=e.v,y=e.p,w=e.d,x=e.s}],execute:function(){var t=document.createElement("style");t.textContent='.form-structor[data-v-b9835576]{background-color:#222;height:100vh;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.form-structor[data-v-b9835576]:after{content:"";opacity:.8;position:absolute;top:0;right:0;bottom:0;left:0;background-repeat:no-repeat;background-position:left bottom;background-size:auto;background-image:url(data:image/webp;base64,)}.form-structor .signup[data-v-b9835576]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:65%;z-index:5;transition:all .3s ease}.form-structor .signup.slide-up[data-v-b9835576]{top:5%;transform:translate(-50%);transition:all .3s ease}.form-structor .signup.slide-up .form-holder[data-v-b9835576],.form-structor .signup.slide-up .submit-btn[data-v-b9835576]{opacity:0;visibility:hidden}.form-structor .signup.slide-up .form-title[data-v-b9835576]{font-size:1em;cursor:pointer}.form-structor .signup.slide-up .form-title span[data-v-b9835576]{margin-right:5px;opacity:1;visibility:visible;transition:all .3s ease}.form-structor .signup .form-title[data-v-b9835576]{color:#fff;font-size:1.7em;text-align:center}.form-structor .signup .form-title span[data-v-b9835576]{color:rgba(0,0,0,.4);opacity:0;visibility:hidden;transition:all .3s ease}.form-structor .signup .form-holder[data-v-b9835576]{margin-top:50px;visibility:visible;transition:all .3s ease}.form-structor .signup .submit-btn[data-v-b9835576]{background-color:rgba(0,0,0,.4);color:rgba(255,255,255,.7);border:0;border-radius:15px;display:block;margin:15px auto;width:100%;font-size:13px;font-weight:700;cursor:pointer;opacity:1;visibility:visible;transition:all .3s ease}.form-structor .signup .submit-btn[data-v-b9835576]:hover{transition:all .3s ease;background-color:rgba(0,0,0,.8)}.form-structor .login[data-v-b9835576]{position:absolute;top:20%;left:0;right:0;bottom:0;background-color:#fff;z-index:5;transition:all .3s ease}.form-structor .login[data-v-b9835576]:before{content:"";position:absolute;left:50%;top:-20px;transform:translate(-50%);background-color:#fff;width:200%;height:250px;border-radius:50%;z-index:4;transition:all .3s ease}.form-structor .login .center[data-v-b9835576]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:65%;z-index:5;transition:all .3s ease}.form-structor .login .center .form-title[data-v-b9835576]{color:#000;font-size:1.7em;text-align:center}.form-structor .login .center .form-title span[data-v-b9835576]{color:rgba(0,0,0,.4);opacity:0;visibility:hidden;transition:all .3s ease}.form-structor .login .center .form-holder[data-v-b9835576]{margin-top:50px;visibility:visible;transition:all .3s ease}.form-structor .login .center .form-holder .input[data-v-b9835576]{border:0;outline:none;box-shadow:none;display:block;height:30px;line-height:30px;padding:8px 15px;border-bottom:1px solid #eee;width:100%;font-size:12px}.form-structor .login .center .form-holder .input[data-v-b9835576]:last-child{border-bottom:0}.form-structor .login .center .form-holder .input[data-v-b9835576]::-webkit-input-placeholder{color:rgba(0,0,0,.4)}.form-structor .login .center .submit-btn[data-v-b9835576]{background-color:#6b92a4;color:rgba(255,255,255,.7);border:0;border-radius:15px;display:block;margin:15px auto;width:100%;font-size:13px;font-weight:700;cursor:pointer;opacity:1;visibility:visible;transition:all .3s ease}.form-structor .login .center .submit-btn[data-v-b9835576]:hover{transition:all .3s ease;background-color:rgba(0,0,0,.8)}.form-structor .login.slide-up[data-v-b9835576]{top:90%;transition:all .3s ease}.form-structor .login.slide-up .center[data-v-b9835576]{top:10%;transform:translate(-50%);transition:all .3s ease}.form-structor .login.slide-up .form-holder[data-v-b9835576],.form-structor .login.slide-up .submit-btn[data-v-b9835576]{opacity:0;visibility:hidden;transition:all .3s ease}.form-structor .login.slide-up .form-title[data-v-b9835576]{font-size:1em;margin:0;padding:0;cursor:pointer;transition:all .3s ease}.form-structor .login.slide-up .form-title span[data-v-b9835576]{margin-right:5px;opacity:1;visibility:visible;transition:all .3s ease}\n',document.head.appendChild(t);var k=function(e){return y("data-v-b9835576"),e=e(),w(),e},_={class:"form-structor"},P={class:"signup"},V=k((function(){return f("span",null,"or",-1)})),z={class:"form-holder"},L={class:"login slide-up"},N={class:"center"},U=k((function(){return f("span",null,"or",-1)})),j={class:"form-holder"};e("default",r({__name:"Login",setup:function(e){var t=o.getInstance().socket,r=n(),y=a(null),w=a(null),k=a(),C=a(),T=i(),R=s({username:[{required:!0,message:"Please enter your username",trigger:"blur"},{min:6,message:"The username contains a minimum of 6 characters"}],password:[{required:!0,message:"Please confirm the password",trigger:"blur"},{min:6,message:"The password contains a minimum of 6 characters"}]}),q=s({username:[{required:!0,message:"Please enter your username",trigger:"blur"},{min:6,message:"The username contains a minimum of 6 characters"}],password:[{required:!0,message:"Please confirm the password",trigger:"blur"},{min:6,message:"The password contains a minimum of 6 characters"}],phone:[{validator:function(e,t,r){var o=/^1[3|4|5|7|8|9][0-9]{9}$/;if(!t)return r(new Error("Please confirm the phone number"));setTimeout((function(){Number.isInteger(+t)?o.test(t)?r():r(new Error("The phone number format is incorrect")):r(new Error("Please enter a numeric value"))}),100)},trigger:"blur"}]}),E=function(e){var t=e.target.parentNode.parentNode;Array.from(e.target.parentNode.parentNode.classList).find((function(e){"slide-up"!==e?t.classList.add("slide-up"):(w.value.parentNode.classList.add("slide-up"),t.classList.remove("slide-up"))}))},I=function(e){var t=e.target.parentNode;Array.from(e.target.parentNode.classList).find((function(e){"slide-up"!==e?t.classList.add("slide-up"):(y.value.parentNode.parentNode.classList.add("slide-up"),t.classList.remove("slide-up"))}))};l((function(){T.joined(),t.on("joined_message",(function(e){console.log(e),t.connect()}))}));var S=s({username:"",password:"",agreePolicy:!1,phone:""}),A=s({username:"",password:"",latitude:"",longitude:""}),F=function(){C.value.validate((function(e){if(!e)return!1;navigator.geolocation.getCurrentPosition((function(e){void 0!==e&&(console.log(e),A.latitude=e.coords.latitude,A.longitude=e.coords.longitude)}),(function(e){console.log(e)})),T.UserLogin(A).then((function(){r.push({name:"Home"}),T.joined(),t.on("joined_message",(function(e){console.log(e),t.connect()}))}))}))},H=function(){k.value.validate((function(e){if(!e)return!1;S.agreePolicy?T.UserRegister(S).then((function(){S.username="",S.password="",S.phone="",S.agreePolicy=!1})):x("Please agree to the privacy policy")}))};return function(e,t){var r=u("el-input"),o=u("el-form-item"),n=u("el-link"),a=u("el-form"),i=d("autofocus");return c(),m("div",_,[f("div",P,[f("h2",{class:"form-title",ref_key:"signupRef",ref:w,onClick:I},[V,p("Sign up ")],512),f("div",z,[g(a,{ref_key:"registerFormRef",ref:k,class:"form",model:S,rules:q},{default:b((function(){return[g(o,{prop:"username"},{default:b((function(){return[v(g(r,{modelValue:S.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.username=e}),type:"text",placeholder:"Username"},null,8,["modelValue"]),[[i]])]})),_:1}),g(o,{prop:"password"},{default:b((function(){return[v(g(r,{modelValue:S.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.password=e}),type:"password",placeholder:"Password"},null,8,["modelValue"]),[[i]])]})),_:1}),g(o,{prop:"phone"},{default:b((function(){return[v(g(r,{modelValue:S.phone,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.phone=e}),type:"text",placeholder:"Phone"},null,8,["modelValue"]),[[i]])]})),_:1}),g(o,null,{default:b((function(){return[v(f("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return S.agreePolicy=e})},null,512),[[h,S.agreePolicy]]),g(n,{href:"https://www.baidu.com",target:"_blank",style:{"margin-left":"10px"}},{default:b((function(){return[p("Privacy Policy")]})),_:1})]})),_:1}),g(o,null,{default:b((function(){return[f("button",{class:"submit-btn",onClick:H},"Sign up")]})),_:1})]})),_:1},8,["model","rules"])])]),f("div",L,[f("div",N,[f("h2",{class:"form-title",ref_key:"loginRef",ref:y,onClick:E},[U,p("Log in ")],512),f("div",j,[g(a,{ref_key:"loginFormRef",ref:C,class:"form",model:A,rules:R},{default:b((function(){return[g(o,{prop:"username"},{default:b((function(){return[v(g(r,{modelValue:A.username,"onUpdate:modelValue":t[4]||(t[4]=function(e){return A.username=e}),type:"text",placeholder:"UserName"},null,8,["modelValue"]),[[i]])]})),_:1}),g(o,{prop:"username"},{default:b((function(){return[v(g(r,{modelValue:A.password,"onUpdate:modelValue":t[5]||(t[5]=function(e){return A.password=e}),type:"password",placeholder:"Password"},null,8,["modelValue"]),[[i]])]})),_:1}),g(o,null,{default:b((function(){return[f("button",{class:"submit-btn",onClick:F},"Log in")]})),_:1})]})),_:1},8,["model","rules"])])])])])}}},[["__scopeId","data-v-b9835576"]]))}}}));
